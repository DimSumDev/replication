Repl > help "end replication" ;

DESCRIPTION:
Ends replication for a subscription. The table mapping context is cleared after
executing this command if the context is currently set to this subscription.

SYNTAX 1:
Ends replication for subscriptions that support
normal/immediate/abort/scheduledEnd options.

end replication

  [filter]                   Specifies which subscriptions to select. If filter
                             is set to subscription, the subscription name or
                             current context is used. If filter is set to
                             datastore, the command executes on all
                             subscriptions originating from the datastore that
                             is currently selected as a source datastore.
                             VALID VALUES:
                                 datastore
                                 subscription
                             DEFAULT:
                                 subscription
  [name]                     Specifies the name of the datastore or
                             subscription based on the "filter" parameter. If a
                             subscription filter is selected and a name is
                             provided, the subscription must match the current
                             source and target datastores in context.
  [method]                   Specifies the method to stop replication.
                             VALID VALUES:
                                 normal
                                 immediate
                                 abort
                                 scheduledEnd
                             DEFAULT:
                                 normal
  [endType]                  Identifies the scheduled end type when the
                             "method" parameter is set to value "scheduledEnd".
                             VALID VALUES:
                                 now
                                 logPosition
                                 localTime
                             DEFAULT:
                                 now
  [endValue]                 When the "endType" parameter is set to value
                             "logPosition", specifies a log position for the
                             end value. When the "endType" parameter is set to
                             value "localTime", specifies the exact date and
                             time in the source engine's time zone using the
                             yyyyMMddHHmmssSSS format.
  [wait]                     Specifies how long to wait (in seconds) for
                             replication to stop before continuing with script
                             execution. Use -1 to wait indefinitely, 0 for no
                             wait, or the maximum number of seconds to wait
                             before continuing.
                             DEFAULT:
                                 0

SYNTAX 2:
Ends replication for subscriptions that support controlled/immediate options.

end replication

  [filter]                   Specifies which subscriptions to select. If filter
                             is set to subscription, the subscription name or
                             current context is used. If filter is set to
                             datastore, the command executes on all
                             subscriptions originating from the datastore that
                             is currently selected as a source datastore.
                             VALID VALUES:
                                 datastore
                                 subscription
                             DEFAULT:
                                 subscription
  [name]                     Specifies the name of the datastore or
                             subscription based on the "filter" parameter. If a
                             subscription filter is selected and a name is
                             provided, the subscription must match the current
                             source and target datastores in context.
  [method]                   Specifies the method to stop replication.
                             VALID VALUES:
                                 controlled
                                 immediate
                             DEFAULT:
                                 controlled
  [wait]                     Specifies how long to wait (in seconds) for
                             replication to stop before continuing with script
                             execution. Use -1 to wait indefinitely, 0 for no
                             wait, or the maximum number of seconds to wait
                             before continuing.
                             DEFAULT:
                                 0

SYNTAX 3:
Ends replication for Classic CDC subscriptions that support scheduledEnd.

end replication

  [filter]                   Specifies which subscriptions to select. If filter
                             is set to subscription, the subscription name or
                             current context is used. If filter is set to
                             datastore, the command executes on all
                             subscriptions originating from the datastore that
                             is currently selected as a source datastore.
                             VALID VALUES:
                                 datastore
                                 subscription
                             DEFAULT:
                                 subscription
  [name]                     Specifies the name of the datastore or
                             subscription based on the "filter" parameter. If a
                             subscription filter is selected and a name is
                             provided, the subscription must match the current
                             source and target datastores in context.
  [method]                   Specifies the method to stop replication.
                             VALID VALUES:
                                 controlled
                                 immediate
                                 scheduledEnd
                             DEFAULT:
                                 controlled
  [endType]                  Identifies the scheduled end type when the
                             "method" parameter is set to value "scheduledEnd".
                             VALID VALUES:
                                 now
                                 localTime
                             DEFAULT:
                                 now
  [endValue]                 When the "endType" parameter is set to value
                             "localTime", specifies the exact date and time in
                             the source engine's time zone using the
                             yyyyMMddHHmmssSSS format.
  [wait]                     Specifies how long to wait (in seconds) for
                             replication to stop before continuing with script
                             execution. Use -1 to wait indefinitely, 0 for no
                             wait, or the maximum number of seconds to wait
                             before continuing.
                             DEFAULT:
                                 0

SUCCESS CODE:
1314

SINCE:
10.2

REQUIRED ROLE:
Operator, administrator, system administrator

SAMPLE 1:
Selects a subscription and ends replication using normal shutdown.

  connect server username user1 password password1;
  connect datastore name DS1 context source;
  connect datastore name DS2 context target;
  select subscription name SUB1;
  end replication;
  disconnect server;
  exit;

SAMPLE 2:
Selects a subscription and schedules it to end replicating.

  connect server username user1 password password1;
  connect datastore name DS1 context source;
  connect datastore name DS2 context target;
  select subscription name SUB1;
  end replication method scheduledEnd endType now;
  disconnect server;
  exit;